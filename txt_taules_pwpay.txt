CREATE TABLE `USER` (
 `id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
 `email` VARCHAR(255) NOT NULL DEFAULT '',
 `password` VARCHAR(255) NOT NULL DEFAULT '',
 `birthday` DATETIME NOT NULL,
 `phone` VARCHAR(255) NOT NULL DEFAULT '',
 `avatar_url` VARCHAR(255) NOT NULL DEFAULT '',
 PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `BANK_ACCOUNT` (
 `id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
 `id_user` INT(11) UNSIGNED NOT NULL,
 `money` FLOAT UNSIGNED NOT NULL,
 `ibn` VARCHAR(255) NOT NULL DEFAULT '',
 `owner_name` VARCHAR(255) NOT NULL DEFAULT '',
 PRIMARY KEY (`id`),
 FOREIGN KEY (id_user)
 REFERENCES user(id)
 ON UPDATE CASCADE
 ON DELETE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `TRANSACTION` (
 `id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
 `id_sender_bank_account` INT(11) UNSIGNED NOT NULL,
 `id_reciever_bank_account` INT(11) UNSIGNED NOT NULL,
 `money` FLOAT UNSIGNED NOT NULL,
 `type` VARCHAR(255) NOT NULL DEFAULT '',
 PRIMARY KEY (`id`),
 FOREIGN KEY (id_sender_bank_account)
 REFERENCES bank_account(id)
 ON UPDATE CASCADE
 ON DELETE RESTRICT,
 FOREIGN KEY (id_reciever_bank_account)
 REFERENCES bank_account(id)
 ON UPDATE CASCADE
 ON DELETE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8;